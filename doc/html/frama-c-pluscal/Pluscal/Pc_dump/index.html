<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Pc_dump (frama-c-pluscal.Pluscal.Pc_dump)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.0.0_beta1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> ‚Äì <a href="../../../index.html">üè†</a> &#x00BB; <a href="../../index.html">frama-c-pluscal</a> &#x00BB; <a href="../index.html">Pluscal</a> &#x00BB; Pc_dump</nav><header class="odoc-preamble"><h1>Module <code><span>Pluscal.Pc_dump</span></code></h1><p>Dump a PlusCal program. *</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-dump_info"><a href="#type-dump_info" class="anchor"></a><code><span><span class="keyword">type</span> dump_info</span><span> = string * string * int * string</span></code></div><div class="spec-doc"><p>Type representing information to be dumped.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">label</span> <p>string representing the label.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>string representing the procedure name.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">line</span> <p>integer representing the line number.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">indent_space</span> <p>string representing the indentation space. *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_proc_var"><a href="#val-dump_proc_var" class="anchor"></a><code><span><span class="keyword">val</span> dump_proc_var : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_var">Pc.pc_var</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the variable declaration for a given procedure variable.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to output the variable declaration</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>name of the procedure</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">v_name</span> <p>procedure variable to be declared *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_arg"><a href="#val-dump_arg" class="anchor"></a><code><span><span class="keyword">val</span> dump_arg : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_var">Pc.pc_var</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the string representation of a PlusCal argument of a procedure.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>name of the procedure to which the variable belongs.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to which the variable's string representation is printed.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">v</span> <p>PlusCal arg to be printed. *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_binop"><a href="#val-dump_pc_binop" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_binop : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_binop">Pc.pc_binop</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the string representation of the given PlusCal binary operator <code>b</code> to the formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to which the binary operator will be printed.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">b</span> <p>PlusCal binary operator to be printed. It can be one of the following:</p></li></ul><p>This function does not handle the pointer operations. *</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_unop"><a href="#val-dump_pc_unop" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_unop : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_unop">Pc.pc_unop</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the PlusCal representation of a unary operator <code>u</code> to the formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to print to.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">u</span> <p>unary operator to be printed. It can be one of the following: *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_binop_ptr"><a href="#val-dump_pc_binop_ptr" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_binop_ptr : 
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Pc/index.html#type-pc_binop">Pc.pc_binop</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Pc/index.html#type-pc_expr">Pc.pc_expr</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Pc/index.html#type-pc_expr">Pc.pc_expr</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Outputs the representation of a pointer binary operation to the given formatter.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to output the representation.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>name of the procedure containing the expressions.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">b</span> <p>binary operation to be represented.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">e1</span> <p>first expression (expected to be a pointer lvalue).</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">e2</span> <p>second expression. *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_cst"><a href="#val-dump_pc_cst" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_cst : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_cst">Pc.pc_cst</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the PlusCal representation of a constant <code>c</code> to the formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>name of the procedure.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>output formatter.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">c</span> <p>PlusCal constant to be dumped. *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_expr"><a href="#val-dump_pc_expr" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_expr : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_expr">Pc.pc_expr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the PlusCal representation of an expression <code>e</code> to the formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>name of the procedure in which the expression is located.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter where the output string representation of the expression is written.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">exp</span> <p>PlusCal expression to be formatted. *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_lval"><a href="#val-dump_pc_lval" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_lval : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_lval">Pc.pc_lval</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outpust the PlusCal representation of an lvalue <code>lval</code> to the formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to which the output is printed.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>name of the procedure containing the lvalue.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">lval</span> <p>PlusCal lvalue to be printed. *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_pc_expr"><a href="#val-string_of_pc_expr" class="anchor"></a><code><span><span class="keyword">val</span> string_of_pc_expr : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_expr">Pc.pc_expr</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Converts a PlusCal expression <code>exp</code> into its string representation.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>name of the procedure containing the expression.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">exp</span> <p>PlusCal expression to be converted.</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p><code>String</code> representation of the PlusCal expression.</p></li></ul><p>Useful in string_of_pc_lval *</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_pc_lval"><a href="#val-string_of_pc_lval" class="anchor"></a><code><span><span class="keyword">val</span> string_of_pc_lval : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_lval">Pc.pc_lval</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Converts a PlusCal lvalue to its string representation.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc_name</span> <p>name of the procedure.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">lval</span> <p>PlusCal lvalue to be converted.</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p><code>String</code> representation of the PlusCal l-value.</p></li></ul><p>Useful in dump_pc_binop_ptr *</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_instr"><a href="#val-dump_pc_instr" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_instr : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-dump_info">dump_info</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_instr">Pc.pc_instr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Recursively outputs PlusCal instructions to the given output formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to output the dumped instructions.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">info</span> <p>tuple containing the label, procedure name, line number, and indentation level.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">instr</span> <p>PlusCal instruction to dump.</p></li></ul><p>The function uses helper functions. *</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_label"><a href="#val-dump_pc_label" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_label : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-dump_info">dump_info</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_instr">Pc.pc_instr</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs a label for a PlusCal instruction <code>i</code> to the output formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to print the label to.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">info</span> <p>tuple containing the generated label string, procedure name (unused), the line number, and the indentation string.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">i</span> <p>PlusCal instruction to print the label for.</p></li></ul><p>The label is either a Frama-C label if present, or a generated label based on the line number and a generated label string. *</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_procedure"><a href="#val-dump_pc_procedure" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_procedure : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_procedure">Pc.pc_procedure</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the PlusCal procedure <code>proc</code> to the formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to output the procedure to.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc</span> <p>PlusCal procedure to be dumped.</p></li></ul><p>The function performs the following steps:</p><ul><li>Outputs the procedure signature, including the procedure name and arguments.</li><li>Outputs the variables section, including procedure arguments and local variables.</li><li>Outputs the core of the procedure, including the procedure body and the return statement. *</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_pc_process"><a href="#val-dump_pc_process" class="anchor"></a><code><span><span class="keyword">val</span> dump_pc_process : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_process">Pc.pc_process</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the PlusCal process <code>proc</code> to the formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to output the process definition.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">proc</span> <p>PlusCal process to be dumped, which includes the process name, set, variables, and body.</p></li></ul><p>The function performs the following steps:</p><ul><li>Outputs the process header with the process name and set.</li><li>Outputs the variables section.</li><li>Outputs the core of the process, iterating over the process body and dumping each label.</li><li>Outputs the process end statement. *</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_glob_var"><a href="#val-dump_glob_var" class="anchor"></a><code><span><span class="keyword">val</span> dump_glob_var : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_var">Pc.pc_var</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the representation of a global variable to the given formatter.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to write the output to.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">gv_name</span> <p>name of the global variable to be dumped. *</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_constant"><a href="#val-dump_constant" class="anchor"></a><code><span><span class="keyword">val</span> dump_constant : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs the string constant <code>cst</code> to the formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>formatter to write the string constant to.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cst</span> <p>string constant to be written.</p></li></ul><p>Useful as a function to fold on list *</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dump_prog"><a href="#val-dump_prog" class="anchor"></a><code><span><span class="keyword">val</span> dump_prog : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="../Pc/index.html#type-pc_prog">Pc.pc_prog</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Outputs a PlusCal program <code>prog</code> to the given output formatter <code>out</code>.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">out</span> <p>output formatter where the program will be written.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">prog</span> <p>PlusCal program to be dumped.</p></li></ul><p>The function performs the following steps:</p><ul><li>Prints the module header with the program name.</li><li>Prints the EXTENDS section with the necessary TLA+ modules.</li><li>Prints the CONSTANT section with the constants used in the program.</li><li>Prints the global variables section, including initialization of memory and temporary variables.</li><li>Defines helper functions and macros for stack operations and memory management.</li><li>Defines procedures for initializing arrays and stacks.</li><li>Dumps the procedures and processes defined in the PlusCal program.</li><li>Closes the algorithm block. *</li></ul></div></div></div></body></html>
